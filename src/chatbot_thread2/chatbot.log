2025-11-13 15:22:04,899 - [INFO] - (src.chatbot_thread2.rag_pipeline.llm_factory) - --- LLM Factory: ƒê√£ t·∫£i th√†nh c√¥ng 17 API keys ---
2025-11-13 15:22:05,306 - [INFO] - (__main__) - ========= Query M·ªõi =========
Query G·ªëc: T√¥i mu·ªën t√¨m h·ªçc b·ªïng to√†n ph·∫ßn th·∫°c sƒ© ng√†nh khoa h·ªçc d·ªØ li·ªáu ·ªü ch√¢u √¢u, t√¥i c√≥ gpa cao v√† k·ªπ nƒÉng l√£nh ƒë·∫°o t·ªët

2025-11-13 15:22:05,306 - [INFO] - (src.chatbot_thread2.rag_pipeline.llm_factory) - --- LLM FACTORY: ƒêang s·ª≠ d·ª•ng API Key #1 ---
2025-11-13 15:22:07,451 - [INFO] - (src.chatbot_thread2.rag_pipeline.llm_factory) - --- LLM FACTORY: ƒêang s·ª≠ d·ª•ng API Key #2 ---
2025-11-13 15:22:16,111 - [INFO] - (__main__) - 
[PHASE 2] Extracted Filters:
{
  "Country": [
    "France",
    "Germany",
    "UK",
    "Italy",
    "Spain",
    "Netherlands",
    "Sweden",
    "Hungary",
    "Switzerland",
    "Belgium",
    "Austria",
    "Denmark",
    "Finland",
    "Norway",
    "Poland",
    "Portugal",
    "Ireland",
    "Czech Republic"
  ],
  "Funding_Level": [
    "Full scholarship"
  ],
  "Wanted_Degree": [
    "Master"
  ],
  "Eligible_Field_Group": [
    "IT & Data Science"
  ]
}
2025-11-13 15:22:16,131 - [INFO] - (src.chatbot_thread2.rag_pipeline.retriever) - --- LAZY LOADING: B·∫Øt ƒë·∫ßu t·∫£i Vector Store v√† Embedding Model... (Ch·ªâ 1 l·∫ßn) ---
2025-11-13 15:22:16,132 - [INFO] - (src.chatbot_thread2.rag_pipeline.llm_factory) - --- LLM FACTORY: ƒêang s·ª≠ d·ª•ng API Key #3 ---
2025-11-13 15:22:16,136 - [INFO] - (src.chatbot_thread2.rag_pipeline.retriever) - Loading Vector Store from: D:\Git\ScholarshipRouting\src\chatbot_thread2\vector_store_google
2025-11-13 15:22:16,136 - [INFO] - (src.chatbot_thread2.rag_pipeline.retriever) - Using embedding model: google
2025-11-13 15:22:16,190 - [INFO] - (chromadb.telemetry.product.posthog) - Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.
2025-11-13 15:22:16,293 - [INFO] - (src.chatbot_thread2.rag_pipeline.retriever) - --- LAZY LOADING: T·∫£i Vector Store ho√†n t·∫•t! ---
2025-11-13 15:22:16,294 - [INFO] - (src.chatbot_thread2.rag_pipeline.retriever) - --- Step 1: Semantic Search (k=100) ---
2025-11-13 15:22:17,662 - [INFO] - (src.chatbot_thread2.rag_pipeline.retriever) - --- Step 2: Post-retrieval Filtering ---
2025-11-13 15:22:17,662 - [INFO] - (src.chatbot_thread2.rag_pipeline.retriever) - --- Applying post-retrieval filters: {'Country': ['France', 'Germany', 'UK', 'Italy', 'Spain', 'Netherlands', 'Sweden', 'Hungary', 'Switzerland', 'Belgium', 'Austria', 'Denmark', 'Finland', 'Norway', 'Poland', 'Portugal', 'Ireland', 'Czech Republic'], 'Funding_Level': ['Full scholarship'], 'Wanted_Degree': ['Master'], 'Eligible_Field_Group': ['IT & Data Science']} ---
2025-11-13 15:22:17,663 - [INFO] - (src.chatbot_thread2.rag_pipeline.retriever) - --- Step 3: De-duplicating results (by Scholarship_Name) ---
2025-11-13 15:22:17,663 - [INFO] - (src.chatbot_thread2.rag_pipeline.retriever) - --- Found 5 unique scholarship chunks (after filtering & de-duping) ---
2025-11-13 15:22:17,664 - [INFO] - (src.chatbot_thread2.rag_pipeline.llm_factory) - --- LLM FACTORY: ƒêang s·ª≠ d·ª•ng API Key #4 ---
2025-11-13 15:22:34,500 - [INFO] - (__main__) - 
--- ü§ñ Chatbot Tr·∫£ l·ªùi ---
2025-11-13 15:22:34,507 - [INFO] - (__main__) - Ch√†o b·∫°n, v·ªõi mong mu·ªën t√¨m h·ªçc b·ªïng to√†n ph·∫ßn th·∫°c sƒ© ng√†nh Khoa h·ªçc d·ªØ li·ªáu ·ªü Ch√¢u √Çu, c√≥ GPA cao v√† k·ªπ nƒÉng l√£nh ƒë·∫°o t·ªët, t√¥i ƒë√£ t√¨m th·∫•y m·ªôt s·ªë h·ªçc b·ªïng ph√π h·ª£p d√†nh cho b·∫°n:

*   **ETH Zurich Excellence Scholarship & Opportunity Programme (ESOP)**:
    *   **T·∫°i sao ph√π h·ª£p:** ƒê√¢y l√† h·ªçc b·ªïng to√†n ph·∫ßn t·∫°i Th·ª•y Sƒ© (Ch√¢u √Çu) d√†nh cho b·∫≠c Th·∫°c sƒ©, bao g·ªìm 12.000 CHF/h·ªçc k·ª≥ v√† mi·ªÖn to√†n b·ªô h·ªçc ph√≠. H·ªçc b·ªïng n√†y y√™u c·∫ßu k·∫øt qu·∫£ h·ªçc t·∫≠p xu·∫•t s·∫Øc (top 10% c·ª≠ nh√¢n c·ªßa b·∫°n) v√† h∆∞·ªõng ƒë·∫øn nh·ªØng "nh√† l√£nh ƒë·∫°o t∆∞∆°ng lai". C√°c ng√†nh nh∆∞ Khoa h·ªçc M√°y t√≠nh (Computer Science) v√† Khoa h·ªçc (Science) th∆∞·ªùng bao g·ªìm Khoa h·ªçc D·ªØ li·ªáu. 
    *   **H·∫°n n·ªôp h·ªì s∆°:** 30 th√°ng 11.

*   **Eiffel Excellence Scholarship**:
    *   **T·∫°i sao ph√π h·ª£p:** H·ªçc b·ªïng to√†n ph·∫ßn danh gi√° n√†y c·ªßa Ph√°p (Ch√¢u √Çu) d√†nh cho b·∫≠c Th·∫°c sƒ©, v·ªõi tr·ª£ c·∫•p h√†ng th√°ng ‚Ç¨1.181, bao g·ªìm h·ªçc ph√≠, chi ph√≠ ƒëi l·∫°i, b·∫£o hi·ªÉm v√† h·ªó tr·ª£ nh√† ·ªü. C√°c lƒ©nh v·ª±c ƒë·ªß ƒëi·ªÅu ki·ªán bao g·ªìm "To√°n h·ªçc v√† k·ªπ thu·∫≠t s·ªë" (Mathematics and digital), r·∫•t ph√π h·ª£p v·ªõi Khoa h·ªçc D·ªØ li·ªáu. H·ªçc b·ªïng t√¨m ki·∫øm sinh vi√™n c√≥ th√†nh t√≠ch h·ªçc t·∫≠p xu·∫•t s·∫Øc (top 3-5% trong c√°c nghi√™n c·ª©u tr∆∞·ªõc ƒë√¢y), v√† b·∫°n c√≥ th·ªÉ th·ªÉ hi·ªán k·ªπ nƒÉng l√£nh ƒë·∫°o trong th∆∞ ƒë·ªông l·ª±c.
    *   **H·∫°n n·ªôp h·ªì s∆°:** H·∫°n ch√≥t ch√≠nh th·ª©c l√† 08 th√°ng 01 (nƒÉm sau), nh∆∞ng c√°c tr∆∞·ªùng ƒë·∫°i h·ªçc Ph√°p th∆∞·ªùng c√≥ h·∫°n n·ªôp h·ªì s∆° n·ªôi b·ªô s·ªõm h∆°n (v√≠ d·ª•: tr∆∞·ªõc 24 th√°ng 11).

*   **Invest Your Talent in Italy (IYT)**:
    *   **T·∫°i sao ph√π h·ª£p:** ƒê√¢y l√† h·ªçc b·ªïng to√†n ph·∫ßn t·∫°i √ù (Ch√¢u √Çu) d√†nh cho b·∫≠c Th·∫°c sƒ©, ƒë·∫∑c bi·ªát **c√≥ li·ªát k√™ r√µ r√†ng ng√†nh Khoa h·ªçc D·ªØ li·ªáu (Data Science)** l√† m·ªôt trong nh·ªØng lƒ©nh v·ª±c ƒë·ªß ƒëi·ªÅu ki·ªán. H·ªçc b·ªïng bao g·ªìm to√†n b·ªô chi ph√≠ sinh ho·∫°t v√† mi·ªÖn h·ªçc ph√≠. B·∫°n c·∫ßn c√≥ th√†nh t√≠ch h·ªçc t·∫≠p xu·∫•t s·∫Øc. M·ªôt ƒëi·ªÉm ƒë·∫∑c bi·ªát l√† b·∫°n s·∫Ω c√≥ c∆° h·ªôi th·ª±c t·∫≠p 3 th√°ng t·∫°i m·ªôt c√¥ng ty √ù, gi√∫p ph√°t tri·ªÉn k·ªπ nƒÉng chuy√™n m√¥n v√† l√£nh ƒë·∫°o.
    *   **H·∫°n n·ªôp h·ªì s∆°:** 24 th√°ng 02 (cho nƒÉm h·ªçc 2025-2026). B·∫°n c·∫ßn ho√†n th√†nh ƒë∆°n ƒëƒÉng k√Ω tr∆∞·ªõc t·∫°i tr∆∞·ªùng ƒë·∫°i h·ªçc √ù b·∫°n ch·ªçn tr∆∞·ªõc khi n·ªôp h·ªì s∆° IYT.

*   **University of Warwick ‚Äì ASEAN‚ÄìUK SAGE Women in STEM Scholarship**:
    *   **T·∫°i sao ph√π h·ª£p:** H·ªçc b·ªïng to√†n ph·∫ßn n√†y t·∫°i V∆∞∆°ng qu·ªëc Anh (Ch√¢u √Çu) d√†nh cho b·∫≠c Th·∫°c sƒ© trong c√°c lƒ©nh v·ª±c STEM (Khoa h·ªçc, C√¥ng ngh·ªá, K·ªπ thu·∫≠t v√† To√°n h·ªçc), bao g·ªìm Khoa h·ªçc D·ªØ li·ªáu. H·ªçc b·ªïng bao g·ªìm to√†n b·ªô h·ªçc ph√≠, tr·ª£ c·∫•p sinh ho·∫°t h√†ng th√°ng (¬£19.824/nƒÉm) v√† chi ph√≠ ƒëi l·∫°i. ƒê√¢y l√† h·ªçc b·ªïng ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ "trao quy·ªÅn cho ph·ª• n·ªØ d·∫´n d·∫Øt trong c√°c lƒ©nh v·ª±c khoa h·ªçc", r·∫•t ph√π h·ª£p v·ªõi k·ªπ nƒÉng l√£nh ƒë·∫°o c·ªßa b·∫°n. 
    *   **L∆∞u √Ω quan tr·ªçng:** H·ªçc b·ªïng n√†y **ch·ªâ d√†nh cho ph·ª• n·ªØ** v√† c√¥ng d√¢n c·ªßa c√°c qu·ªëc gia th√†nh vi√™n ASEAN ho·∫∑c Timor-Leste. B·∫°n c·∫ßn ki·ªÉm tra xem m√¨nh c√≥ ƒë·ªß ƒëi·ªÅu ki·ªán v·ªÅ ti√™u ch√≠ n√†y kh√¥ng. 
    *   **H·∫°n n·ªôp h·ªì s∆°:** H·∫°n ch√≥t n·ªôp h·ªì s∆° kh√≥a h·ªçc t·∫°i ƒê·∫°i h·ªçc Warwick l√† 17 th√°ng 04 nƒÉm 2025. H·ªì s∆° h·ªçc b·ªïng chung cho nƒÉm h·ªçc 2025-26 ƒë√£ ƒë√≥ng, nh∆∞ng b·∫°n c·∫ßn c√≥ th∆∞ m·ªùi t·ª´ tr∆∞·ªùng ƒë·ªÉ ƒë∆∞·ª£c x√©t duy·ªát cho h·ªçc b·ªïng n√†y.

Ch√∫c b·∫°n may m·∫Øn trong qu√° tr√¨nh t√¨m ki·∫øm h·ªçc b·ªïng!
2025-11-13 15:22:34,508 - [INFO] - (__main__) - 
--- üîë T√™n h·ªçc b·ªïng (Output cho ElasticSearch) ---
2025-11-13 15:22:34,508 - [INFO] - (__main__) - ['ETH Zurich Excellence Scholarship & Opportunity Programme', 'Eiffel Excellence Scholarship', 'Invest Your Talent in Italy (IYT)', 'University of Warwick ‚Äì ASEAN‚ÄìUK SAGE Women in STEM Scholarship']
2025-11-13 15:22:34,508 - [INFO] - (__main__) - 
===============================
2025-11-13 15:22:34,509 - [INFO] - (__main__) - ========= Query M·ªõi =========
Query G·ªëc: I want to find a full scholarship for a Master‚Äôs program in Data Science in Europe. I have a high GPA and strong leadership skills.

2025-11-13 15:22:34,510 - [INFO] - (src.chatbot_thread2.rag_pipeline.llm_factory) - --- LLM FACTORY: ƒêang s·ª≠ d·ª•ng API Key #5 ---
2025-11-13 15:22:35,883 - [INFO] - (src.chatbot_thread2.rag_pipeline.llm_factory) - --- LLM FACTORY: ƒêang s·ª≠ d·ª•ng API Key #6 ---
2025-11-13 15:22:38,454 - [INFO] - (__main__) - 
[PHASE 2] Extracted Filters:
{
  "Country": [
    "France",
    "Germany",
    "UK",
    "Italy",
    "Spain",
    "Netherlands",
    "Sweden",
    "Hungary",
    "Switzerland",
    "Belgium",
    "Austria",
    "Denmark",
    "Finland",
    "Norway",
    "Poland",
    "Portugal",
    "Ireland",
    "Czech Republic"
  ],
  "Funding_Level": [
    "Full scholarship"
  ],
  "Wanted_Degree": [
    "Master"
  ],
  "Eligible_Field_Group": [
    "IT & Data Science"
  ]
}
2025-11-13 15:22:38,457 - [INFO] - (src.chatbot_thread2.rag_pipeline.retriever) - --- Step 1: Semantic Search (k=100) ---
2025-11-13 15:22:38,918 - [INFO] - (src.chatbot_thread2.rag_pipeline.retriever) - --- Step 2: Post-retrieval Filtering ---
2025-11-13 15:22:38,918 - [INFO] - (src.chatbot_thread2.rag_pipeline.retriever) - --- Applying post-retrieval filters: {'Country': ['France', 'Germany', 'UK', 'Italy', 'Spain', 'Netherlands', 'Sweden', 'Hungary', 'Switzerland', 'Belgium', 'Austria', 'Denmark', 'Finland', 'Norway', 'Poland', 'Portugal', 'Ireland', 'Czech Republic'], 'Funding_Level': ['Full scholarship'], 'Wanted_Degree': ['Master'], 'Eligible_Field_Group': ['IT & Data Science']} ---
2025-11-13 15:22:38,919 - [INFO] - (src.chatbot_thread2.rag_pipeline.retriever) - --- Step 3: De-duplicating results (by Scholarship_Name) ---
2025-11-13 15:22:38,919 - [INFO] - (src.chatbot_thread2.rag_pipeline.retriever) - --- Found 5 unique scholarship chunks (after filtering & de-duping) ---
2025-11-13 15:22:38,919 - [INFO] - (src.chatbot_thread2.rag_pipeline.llm_factory) - --- LLM FACTORY: ƒêang s·ª≠ d·ª•ng API Key #7 ---
2025-11-13 15:23:21,624 - [WARNING] - (langchain_google_genai.chat_models) - Retrying langchain_google_genai.chat_models._chat_with_retry.<locals>._chat_with_retry in 2.0 seconds as it raised ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 10
Please retry in 38.40706764s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 10
}
, retry_delay {
  seconds: 38
}
].
